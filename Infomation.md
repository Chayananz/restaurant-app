# üìö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à Code - ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£

## üîç ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö

---

## 1Ô∏è‚É£ **Connection Operation - ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

### üìç Code ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?
**‡πÑ‡∏ü‡∏•‡πå:** `database/connection.js`

### üíª Code:
```javascript
const sqlite3 = require('sqlite3').verbose();
const path = require('path');

const dbPath = path.join(__dirname, '..', 'restaurant.db');
const db = new sqlite3.Database(dbPath, (err) => {
    if (err) {
        console.error('Error:', err);
    } else {
        console.log('‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');

        // ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Foreign Key Constraints
        db.run('PRAGMA foreign_keys = ON', (err) => {
            if (err) {
                console.error('Error enabling foreign keys:', err);
            } else {
                console.log('Foreign Key Constraints ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß');
            }
        });
    }
});

module.exports = db;
```

### üéØ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?
1. **‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ sqlite3** - ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö SQLite database
2. **‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏ü‡∏•‡πå** - `restaurant.db` ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà root folder
3. **‡∏™‡∏£‡πâ‡∏≤‡∏á connection** - ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå database
4. **‡πÄ‡∏õ‡∏¥‡∏î Foreign Keys** - ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á
5. **Export db** - ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### üìù ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ:
> **‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö SQLite database ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô

### üîó ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£:
```sql
PRAGMA foreign_keys = ON
```
- **‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:** ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Foreign Key Constraints
- **‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å:** ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏Ñ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ database
- **‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô:** ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô Console/Terminal

### üîÑ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:
```
[App Start]
    ‚Üì
database/connection.js ‡∏£‡∏±‡∏ô
    ‚Üì
‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ restaurant.db
    ‚Üì
‡∏£‡∏±‡∏ô PRAGMA foreign_keys = ON
    ‚Üì
Export db object
    ‚Üì
[‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ import db ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô]
```

---

## 2Ô∏è‚É£ **Insert Operation - ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

### üìç Code ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?

#### **CLI Mode:**
- `operations/tableOps.js` (line 22-34) - `insertTable()`

#### **Web API:**
- `server.js` (line 298-331) - POST `/api/tables`

### üíª Code ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ï‡πä‡∏∞):

**Web API (`server.js`):**
```javascript
app.post('/api/tables', (req, res) => {
    const { tableNumber, capacity, status } = req.body;

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    if (!tableNumber || !capacity) {
        res.status(400).json({ error: '‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ï‡πä‡∏∞‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á' });
        return;
    }

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ã‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    db.get('SELECT * FROM `Table` WHERE Table_Number = ?', [tableNumber], (err, row) => {
        if (row) {
            res.status(400).json({ error: `‡πÇ‡∏ï‡πä‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç ${tableNumber} ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß` });
            return;
        }

        // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        db.run('INSERT INTO `Table` (Table_Number, Capacity, Status) VALUES (?, ?, ?)',
               [tableNumber, capacity, status || '‡∏ß‡πà‡∏≤‡∏á'],
               function(err) {
            if (err) {
                res.status(500).json({ error: err.message });
                return;
            }
            res.json({ message: '‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', tableId: this.lastID });
        });
    });
});
```

### üéØ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?
1. **‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** - ‡∏£‡∏±‡∏ö parameters ‡∏à‡∏≤‡∏Å request body
2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•** - ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ã‡πâ‡∏≥** - ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
4. **‡πÉ‡∏ä‡πâ `db.run()`** - ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á SQL INSERT
5. **‡πÉ‡∏ä‡πâ `?` placeholders** - ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô SQL Injection
6. **`this.lastID`** - ‡∏î‡∏∂‡∏á ID ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á insert
7. **‡∏™‡πà‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå** - response ‡∏Å‡∏•‡∏±‡∏ö

### üìù ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ:
> **‡πÉ‡∏ä‡πâ `db.run()` ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á INSERT ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà** ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ placeholders (?) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### üîó ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£:
```sql
INSERT INTO `Table` (Table_Number, Capacity, Status)
VALUES (?, ?, ?)
```

### üìä ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏´‡∏ô:
```
[public/index.html - ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ï‡πä‡∏∞]
    ‚Üì
1. ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ï‡πä‡∏∞‡πÉ‡∏´‡∏°‡πà"
2. ‡πÅ‡∏™‡∏î‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏° #addTableForm
3. ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ï‡πä‡∏∞: input#newTableNumber
   - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á: input#newTableCapacity
4. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"
    ‚Üì
[public/script.js - addNewTable()]
    ‚Üì
5. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°
6. ‡∏™‡πà‡∏á POST request ‚Üí http://localhost:3000/api/tables
   Body: { tableNumber: "A5", capacity: 4, status: "‡∏ß‡πà‡∏≤‡∏á" }
    ‚Üì
[server.js - POST /api/tables]
    ‚Üì
7. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
8. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ã‡πâ‡∏≥‡∏î‡πâ‡∏ß‡∏¢ SELECT
9. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á INSERT
10. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤ restaurant.db ‚Üí Table table
    ‚Üì
[Response ‡∏Å‡∏•‡∏±‡∏ö]
    ‚Üì
11. { message: "‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", tableId: 25 }
```

### üì∫ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô:
```
[public/script.js ‡∏£‡∏±‡∏ö response]
    ‚Üì
1. ‡πÅ‡∏™‡∏î‡∏á alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à")
2. ‡∏ã‡πà‡∏≠‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏° hideAddTableForm()
3. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å loadTables() ‚Üí ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
    ‚Üì
[‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•]
    ‚Üì
4. ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà: section#tables ‚Üí #tablesGrid
5. ‡πÇ‡∏ï‡πä‡∏∞‡πÉ‡∏´‡∏°‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î
6. ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

---

## 3Ô∏è‚É£ **Select Operation - ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

### üìç Code ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?

#### **CLI Mode:**
- `operations/tableOps.js` (line 4-19) - `getAllTables()`

#### **Web API:**
- `server.js` (line 25-33) - GET `/api/tables`

### üíª Code ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:

**Web API (`server.js`):**
```javascript
app.get('/api/tables', (req, res) => {
    db.all('SELECT * FROM `Table` ORDER BY Table_Number', [], (err, rows) => {
        if (err) {
            res.status(500).json({ error: err.message });
            return;
        }
        res.json(rows);
    });
});
```

### üéØ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?
1. **`db.all()`** - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ñ‡∏ß (returns array)
2. **SQL Query** - ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á SELECT
3. **ORDER BY** - ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏° Table_Number
4. **Callback** - ‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÉ‡∏ô `rows`
5. **res.json()** - ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON

### üìù ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ:
> **‡πÉ‡∏ä‡πâ `db.all()` ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ñ‡∏ß** ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô array

### üîó ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£:
```sql
SELECT * FROM `Table` ORDER BY Table_Number
```

### üìä ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏´‡∏ô:
```
[public/index.html]
    ‚Üì
1. ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏ï‡πä‡∏∞"
2. ‡πÅ‡∏™‡∏î‡∏á section#tables
    ‚Üì
[public/script.js - ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤]
    ‚Üì
3. DOMContentLoaded event ‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å
4. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å loadTables()
5. Auto-refresh ‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (setInterval)
    ‚Üì
[public/script.js - loadTables()]
    ‚Üì
6. ‡∏™‡πà‡∏á GET request ‚Üí http://localhost:3000/api/tables
7. ‡πÑ‡∏°‡πà‡∏°‡∏µ body (‡πÄ‡∏õ‡πá‡∏ô GET request)
    ‚Üì
[server.js - GET /api/tables]
    ‚Üì
8. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á SELECT * FROM `Table`
9. ORDER BY Table_Number
10. ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å restaurant.db ‚Üí Table table
    ‚Üì
[Response ‡∏Å‡∏•‡∏±‡∏ö]
    ‚Üì
11. ‡∏™‡πà‡∏á JSON array:
[
  {Table_ID: 1, Table_Number: "A1", Capacity: 2, Status: "‡∏ß‡πà‡∏≤‡∏á"},
  {Table_ID: 2, Table_Number: "A2", Capacity: 4, Status: "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô"},
  ...
]
```

### üì∫ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô:
```
[public/script.js ‡∏£‡∏±‡∏ö response]
    ‚Üì
1. ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô global variable: tables = response.json()
2. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å displayTables()
    ‚Üì
[public/script.js - displayTables()]
    ‚Üì
3. ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå grid ‡πÄ‡∏Å‡πà‡∏≤: grid.innerHTML = ''
4. ‡∏ß‡∏ô‡∏•‡∏π‡∏õ tables.forEach()
5. ‡∏™‡∏£‡πâ‡∏≤‡∏á div.table-card ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏ï‡πä‡∏∞
6. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏µ‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:
   - ‡∏ß‡πà‡∏≤‡∏á = ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
   - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô = ‡∏™‡∏µ‡πÅ‡∏î‡∏á
   - ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ = ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á
7. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" ‡πÅ‡∏•‡∏∞ "‡∏•‡∏ö"
8. appendChild ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤ #tablesGrid
    ‚Üì
[‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•]
    ‚Üì
9. ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà: section#tables ‚Üí #tablesGrid
10. ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô Grid of Cards (‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏ï‡πä‡∏∞)
11. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
```

---

## 4Ô∏è‚É£ **Update Operation - ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

### üìç Code ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?

#### **CLI Mode:**
- `operations/tableOps.js` (line 37-49) - `updateTable()`

#### **Web API:**
- `server.js` (line 334-360) - PUT `/api/tables/:tableId`

### üíª Code ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:

**Web API (`server.js`):**
```javascript
app.put('/api/tables/:tableId', (req, res) => {
    const tableId = req.params.tableId;
    const { tableNumber, capacity, status } = req.body;

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ï‡πä‡∏∞‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ö‡πÇ‡∏ï‡πä‡∏∞‡∏≠‡∏∑‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    db.get('SELECT * FROM `Table` WHERE Table_Number = ? AND Table_ID != ?',
           [tableNumber, tableId], (err, row) => {
        if (row) {
            res.status(400).json({ error: `‡πÇ‡∏ï‡πä‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç ${tableNumber} ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß` });
            return;
        }

        db.run('UPDATE `Table` SET Table_Number = ?, Capacity = ?, Status = ? WHERE Table_ID = ?',
               [tableNumber, capacity, status, tableId],
               function(err) {
            if (err) {
                res.status(500).json({ error: err.message });
                return;
            }
            res.json({ message: '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à' });
        });
    });
});
```

### üéØ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?
1. **‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà** - ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
2. **‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç** - ‡πÉ‡∏ä‡πâ WHERE ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
3. **‡πÉ‡∏ä‡πâ `db.run()`** - ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á UPDATE
4. **Placeholders** - ‡πÉ‡∏ä‡πâ `?` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡πà‡∏≤
5. **`this.changes`** - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### üìù ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ:
> **‡πÉ‡∏ä‡πâ `db.run()` ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á UPDATE** ‡∏£‡∏∞‡∏ö‡∏∏ SET ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏•‡∏∞ WHERE ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ñ‡∏ß

### üîó ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£:
```sql
-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ã‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
SELECT * FROM `Table` WHERE Table_Number = ? AND Table_ID != ?

-- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
UPDATE `Table`
SET Table_Number = ?, Capacity = ?, Status = ?
WHERE Table_ID = ?
```

### üìä ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏´‡∏ô:
```
[public/index.html - ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏ï‡πä‡∏∞]
    ‚Üì
1. ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏ï‡πä‡∏∞
    ‚Üì
[public/script.js - editTable(tableId)]
    ‚Üì
2. ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏ï‡πä‡∏∞‡∏à‡∏≤‡∏Å tables.find()
3. ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞
4. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:
   - editTableId ‚Üí ‡∏ã‡πà‡∏≠‡∏ô ID ‡πÇ‡∏ï‡πä‡∏∞
   - editTableNumber ‚Üí ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ï‡πä‡∏∞ (‡∏ï‡∏±‡∏î "A" ‡∏≠‡∏≠‡∏Å)
   - editTableCapacity ‚Üí ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á
   - editTableStatus ‚Üí ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏ï‡πä‡∏∞
5. ‡πÅ‡∏™‡∏î‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏° showEditTableForm()
    ‚Üì
[‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•]
    ‚Üì
6. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
7. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å"
    ‚Üì
[public/script.js - updateTable()]
    ‚Üì
8. ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å‡∏ü‡∏≠‡∏£‡πå‡∏°
9. ‡πÄ‡∏û‡∏¥‡πà‡∏° "A" ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‚Üí tableNumber = "A5"
10. ‡∏™‡πà‡∏á PUT request ‚Üí http://localhost:3000/api/tables/5
    Body: { tableNumber: "A5", capacity: 4, status: "‡∏ß‡πà‡∏≤‡∏á" }
    ‚Üì
[server.js - PUT /api/tables/:tableId]
    ‚Üì
11. ‡∏£‡∏±‡∏ö tableId ‡∏à‡∏≤‡∏Å URL parameter
12. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡πÇ‡∏ï‡πä‡∏∞‡∏ã‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
13. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á UPDATE
14. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô restaurant.db ‚Üí Table table
    ‚Üì
[Response ‡∏Å‡∏•‡∏±‡∏ö]
    ‚Üì
15. { message: "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à" }
```

### üì∫ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô:
```
[public/script.js ‡∏£‡∏±‡∏ö response]
    ‚Üì
1. ‡πÅ‡∏™‡∏î‡∏á alert("‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏ï‡πä‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç A5 ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
2. ‡∏ã‡πà‡∏≠‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏° hideEditTableForm()
3. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å loadTables() ‚Üí ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
    ‚Üì
[‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•]
    ‚Üì
4. ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà: section#tables ‚Üí #tablesGrid
5. ‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
6. ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
```

---

## 5Ô∏è‚É£ **Delete Operation - ‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•**

### üìç Code ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?

#### **CLI Mode:**
- `operations/tableOps.js` (line 67-77) - `deleteTable()`

#### **Web API:**
- `server.js` (line 363-373) - DELETE `/api/tables/:tableId`

### üíª Code ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:

**Web API (`server.js`):**
```javascript
app.delete('/api/tables/:tableId', (req, res) => {
    const tableId = req.params.tableId;

    db.run('DELETE FROM `Table` WHERE Table_ID = ?', [tableId], function(err) {
        if (err) {
            res.status(500).json({ error: err.message });
            return;
        }
        res.json({ message: '‡∏•‡∏ö‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à' });
    });
});
```

### üéØ ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?
1. **‡∏£‡∏±‡∏ö ID** - ‡∏£‡∏±‡∏ö ID ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö
2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Foreign Keys** - ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö‡∏Å‡πà‡∏≠‡∏ô
3. **‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏ö** - ‡∏•‡∏ö child records ‚Üí parent records
4. **‡πÉ‡∏ä‡πâ `db.run()`** - ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á DELETE
5. **WHERE clause** - ‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏•‡∏ö‡πÅ‡∏ñ‡∏ß‡πÑ‡∏´‡∏ô

### üìù ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô‡πÜ:
> **‡πÉ‡∏ä‡πâ `db.run()` ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á DELETE** ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á Foreign Keys - ‡∏•‡∏ö child ‡∏Å‡πà‡∏≠‡∏ô parent

### üîó ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£:
```sql
-- ‡∏•‡∏ö‡πÇ‡∏ï‡πä‡∏∞ (Simple Delete)
DELETE FROM `Table` WHERE Table_ID = ?

-- ‡∏•‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå (Cascade Delete - ‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏ö‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö)
DELETE FROM OrderDetail WHERE Order_ID = ?  -- ‡∏•‡∏ö child ‡∏Å‡πà‡∏≠‡∏ô
DELETE FROM Receipt WHERE Order_ID = ?      -- ‡∏•‡∏ö child ‡∏Å‡πà‡∏≠‡∏ô
DELETE FROM `Order` WHERE Order_ID = ?      -- ‡∏•‡∏ö parent ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á
```

### ‚ö†Ô∏è **‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:**
```
Receipt ‚Üí OrderDetail ‚Üí Order ‚Üí Menu, Employee, Table
(child)                         (parent)

‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: ‡∏•‡∏ö child ‡∏Å‡πà‡∏≠‡∏ô parent
‚ùå ‡∏ú‡∏¥‡∏î: ‡∏•‡∏ö parent ‡∏Å‡πà‡∏≠‡∏ô child (‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î Foreign Key Error)
```

### üìä ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏´‡∏ô:
```
[public/index.html - ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏ï‡πä‡∏∞]
    ‚Üì
1. ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏•‡∏ö" ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÇ‡∏ï‡πä‡∏∞
    ‚Üì
[public/script.js - deleteTable(tableId, tableNumber)]
    ‚Üì
2. ‡πÅ‡∏™‡∏î‡∏á confirm dialog:
   "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡πÇ‡∏ï‡πä‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç A5 ‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?"
3. ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏•‡∏¥‡∏Å:
   - "OK" ‚Üí ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
   - "Cancel" ‚Üí return (‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å)
    ‚Üì
[public/script.js ‡∏™‡πà‡∏á request]
    ‚Üì
4. ‡∏™‡πà‡∏á DELETE request ‚Üí http://localhost:3000/api/tables/5
5. ‡πÑ‡∏°‡πà‡∏°‡∏µ body (‡πÄ‡∏õ‡πá‡∏ô DELETE request)
    ‚Üì
[server.js - DELETE /api/tables/:tableId]
    ‚Üì
6. ‡∏£‡∏±‡∏ö tableId ‡∏à‡∏≤‡∏Å URL parameter
7. ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á DELETE FROM `Table`
8. ‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å restaurant.db ‚Üí Table table
    ‚Üì
[Response ‡∏Å‡∏•‡∏±‡∏ö]
    ‚Üì
9. { message: "‡∏•‡∏ö‡πÇ‡∏ï‡πä‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à" }
```

### üì∫ ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô:
```
[public/script.js ‡∏£‡∏±‡∏ö response]
    ‚Üì
1. ‡πÅ‡∏™‡∏î‡∏á alert("‡∏•‡∏ö‡πÇ‡∏ï‡πä‡∏∞‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç A5 ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!")
2. ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å loadTables() ‚Üí ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
    ‚Üì
[‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•]
    ‚Üì
3. ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà: section#tables ‚Üí #tablesGrid
4. ‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
5. Grid ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
```

---

## üîó **‡πÅ‡∏ï‡πà‡∏•‡∏∞ Operation ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?**

### üìä ‡πÅ‡∏ú‡∏ô‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         database/connection.js                  ‚îÇ
‚îÇ  - ‡∏™‡∏£‡πâ‡∏≤‡∏á SQLite connection 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á            ‚îÇ
‚îÇ  - ‡πÄ‡∏õ‡∏¥‡∏î Foreign Key Constraints                ‚îÇ
‚îÇ  - Export `db` object                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚îÇ require('./database/connection')
                 ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ
      ‚ñº          ‚ñº          ‚ñº          ‚ñº          ‚ñº
 server.js   main.js   tableOps   employeeOps  menuOps
 (Web API)   (CLI)     (CRUD)      (CRUD)      (CRUD)
      ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ
      ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                 ‚îÇ
                 ‚ñº
         restaurant.db
         (SQLite Database)
```

### üîÑ ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Operations:

**1. Connection Operation:**
- ‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô ‡∏™‡∏£‡πâ‡∏≤‡∏á `db` object
- ‡∏ó‡∏∏‡∏Å operation ‡πÉ‡∏ä‡πâ `db` object ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô

**2. CRUD Operations ‡πÉ‡∏ä‡πâ `db` ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô:**
```javascript
// ‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢
const db = require('./database/connection');

// ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ db ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
db.run(...)   // INSERT, UPDATE, DELETE
db.all(...)   // SELECT ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ñ‡∏ß
db.get(...)   // SELECT 1 ‡πÅ‡∏ñ‡∏ß
```

**3. Web Interface ‚Üí API ‚Üí Database:**
```
[‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö]
    ‚Üì (‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏°)
[JavaScript ‡∏™‡πà‡∏á HTTP Request]
    ‚Üì (POST/GET/PUT/DELETE)
[Server API ‡∏£‡∏±‡∏ö Request]
    ‚Üì (‡πÉ‡∏ä‡πâ db object)
[Database ‡∏£‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á SQL]
    ‚Üì (‡∏Ñ‡∏∑‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)
[API ‡∏™‡πà‡∏á Response ‡∏Å‡∏•‡∏±‡∏ö]
    ‚Üì (JSON data)
[JavaScript ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠]
```

---

## üîë **‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ**

### 1. **`db` Object**
```javascript
const db = require('./database/connection');
```
- **‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£:** SQLite database connection object
- **‡πÉ‡∏ä‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£:** ‡∏£‡∏±‡∏ô SQL queries ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
- **Methods:**
  - `db.run()` - INSERT, UPDATE, DELETE
  - `db.all()` - SELECT (‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ñ‡∏ß)
  - `db.get()` - SELECT (1 ‡πÅ‡∏ñ‡∏ß)

### 2. **Callback Functions**
```javascript
function(err, rows) { }
```
- **err** - Error object (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ error)
- **rows** - ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å SELECT (array)
- **row** - ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå 1 ‡πÅ‡∏ñ‡∏ß (object)

### 3. **`this` Context (‡πÉ‡∏ô db.run)**
```javascript
db.run('INSERT ...', function(err) {
    console.log(this.lastID);    // ID ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏á insert
    console.log(this.changes);   // ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
});
```
‚ö†Ô∏è **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ Arrow Function** ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ `this` ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô!

### 4. **Request/Response (Web API)**
```javascript
app.get('/api/tables', (req, res) => {
    // req.params - URL parameters (/api/tables/:id)
    // req.query  - Query strings (?category=food&sort=asc)
    // req.body   - POST/PUT data
    // res.json() - ‡∏™‡πà‡∏á JSON response ‡∏Å‡∏•‡∏±‡∏ö
});
```

### 5. **SQL Placeholders**
```javascript
db.run('INSERT INTO Table (name) VALUES (?)', [value]);
                                           ‚Üë         ‚Üë
                                      placeholder  actual value
```
- **‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ:** ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô SQL Injection
- **‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:** ‡πÉ‡∏™‡πà `?` ‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á SQL ‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô array

---

## üéØ **‡∏™‡∏£‡∏∏‡∏õ CRUD Operations**

| Operation | Method    | SQL      | ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á | ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å | ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ó‡∏µ‡πà |
|-----------|-----------|----------|--------|--------------|-----------|
| **Create**| `db.run()`| INSERT   | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà | ‡∏ü‡∏≠‡∏£‡πå‡∏° HTML | #tablesGrid |
| **Read**  | `db.all()`| SELECT   | ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ñ‡∏ß | Database | #tablesGrid |
| **Update**| `db.run()`| UPDATE   | ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç | #tablesGrid |
| **Delete**| `db.run()`| DELETE   | ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏ö + Confirm | #tablesGrid |

---

## üìö **Tips ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤**

### ‚úÖ **‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥:**
1. ‡πÉ‡∏ä‡πâ `?` placeholders ‡πÄ‡∏™‡∏°‡∏≠ (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô SQL Injection)
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `err` ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
3. ‡∏™‡πà‡∏á error message ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢
4. ‡πÉ‡∏ä‡πâ Foreign Keys ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
5. ‡∏•‡∏ö child records ‡∏Å‡πà‡∏≠‡∏ô parent

### ‚ùå **‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥:**
1. ‡∏´‡πâ‡∏≤‡∏°‡∏ï‡πà‡∏≠ string ‡∏ï‡∏£‡∏á‡πÜ ‡πÉ‡∏ô SQL: ~~`SELECT * FROM Table WHERE id=${id}`~~
2. ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ Arrow Function ‡∏Å‡∏±‡∏ö `db.run()` ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ `this.lastID`
3. ‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö parent record ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏•‡∏ö child ‡∏Å‡πà‡∏≠‡∏ô

---

**üìÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:** 19 ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2025
**üîñ ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0.0
**üìù ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á CRUD Operations ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£
